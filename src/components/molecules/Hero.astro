---
import { Image } from "astro:assets";
import eduxcomTableauBordAdministratifDesktop from "@/assets/pictures/eduxcom-tableau-bord-administratif-desktop.webp";
import eduxcomTableauBordAdministratifDesktopUrl from "@/assets/pictures/eduxcom-tableau-bord-administratif-desktop.webp?url";
import eduxcomTableauBordAdministratifMobile from "@/assets/pictures/eduxcom-tableau-bord-administratif-mobile.webp";
import eduxcomTableauBordAdministratifMobileUrl from "@/assets/pictures/eduxcom-tableau-bord-administratif-mobile.webp?url";
import FadeInSection from "@/components/react/FadeInSection";
import ImageLightbox from "@/components/react/ImageLightbox";
import Overlay from "@/components/atoms/Overlay.astro";
---

<section class="flex flex-col items-center pt-20 md:pt-24 lg:flex-row lg:pt-28">
  <!-- Text Content -->
  <aside class="mb-10 lg:mb-0 lg:w-1/2">
    <FadeInSection client:visible direction="left" delay={0.1}>
      <h1
        class="text-dark dark:text-light mb-4 text-3xl leading-tight font-bold md:text-4xl lg:text-5xl"
      >
        Simplifiez la gestion de votre établissement scolaire
      </h1>
    </FadeInSection>

    <FadeInSection client:visible direction="left" delay={0.3}>
      <p class="text-dark-light dark:text-dark-lighter mb-8 text-lg md:text-xl">
        EduXcoM est une <strong>plateforme éducative open source</strong> qui connecte
        enseignants, élèves et parents pour une <strong
          >gestion d'école en ligne</strong
        > fluide et efficace.
      </p>
    </FadeInSection>

    <FadeInSection client:visible direction="left" delay={0.5}>
      <div class="flex flex-col gap-4 sm:flex-row">
        <a
          href="#demo"
          class="bg-primary dark:bg-primary-dark dark:dark-button-text hover:bg-primary-dark dark:hover:bg-primary cursor-pointer rounded-lg px-6 py-3 text-center font-semibold text-white transition-all duration-300 hover:-translate-y-[2px] hover:shadow-md"
        >
          Demander une démo
        </a>
        <a
          href="#features"
          class="bg-light-dark dark:bg-dark-light text-dark dark:text-dark hover:bg-light-dark dark:hover:bg-dark-lighter cursor-pointer rounded-lg px-6 py-3 text-center font-semibold transition-all duration-300 hover:-translate-y-[2px] hover:shadow-md"
        >
          Découvrir les fonctionnalités
        </a>
      </div>
    </FadeInSection>
  </aside>

  <!-- Images -->
  <aside class="relative flex items-center lg:w-1/2 lg:pl-10">
    <FadeInSection client:visible direction="right" delay={0.4}>
      <div class="relative w-full">
        <div class="relative aspect-[8/5] w-full">
          <!-- Image laptop  -->
          <div class="group relative h-full w-full overflow-hidden rounded-lg">
            <ImageLightbox
              client:visible
              src={eduxcomTableauBordAdministratifDesktopUrl}
              alt="Tableau de bord administratif EduXcoM sur ordinateur portable"
            >
              <Image
                src={eduxcomTableauBordAdministratifDesktop}
                alt="Tableau de bord administratif EduXcoM sur ordinateur portable"
                widths={[400, 800, 1200]}
                sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 800px"
                quality={85}
                format="webp"
                loading="eager"
                decoding="async"
                fetchpriority="high"
                class="h-full w-full transform rounded-lg object-cover transition-all duration-300 group-hover:-translate-y-1 group-hover:scale-105 hover:drop-shadow-xl"
              />

              <!-- Overlay qui apparaît au survol -->
              <Overlay title="Agrandir" />
            </ImageLightbox>
          </div>
        </div>

        <!-- Image smartphone -->
        <div
          class="absolute right-[-19px] bottom-[-150px] h-[300px] w-[150px] overflow-visible"
        >
          <div class="group relative h-full w-full rounded-lg">
            <ImageLightbox
              client:visible
              src={eduxcomTableauBordAdministratifMobileUrl}
              alt="Interface mobile EduXcoM pour la gestion scolaire"
            >
              <Image
                src={eduxcomTableauBordAdministratifMobile}
                alt="Interface mobile EduXcoM pour la gestion scolaire"
                widths={[150, 300]}
                sizes="150px"
                quality={85}
                format="webp"
                loading="eager"
                class="h-full w-full transform rounded-lg object-cover transition-all duration-300 group-hover:-translate-y-1 group-hover:scale-105 hover:drop-shadow-xl"
              />

              <!-- Overlay qui apparaît au survol -->
              <Overlay title="Agrandir" />
            </ImageLightbox>
          </div>
        </div>
      </div>
    </FadeInSection>
  </aside>
</section>
