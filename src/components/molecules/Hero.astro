---
import { Image } from "astro:assets";
import desktopImage from "@/assets/pictures/eduxcom-tableau-bord-administratif-desktop.webp";
import mobileImage from "@/assets/pictures/eduxcom-tableau-bord-administratif-mobile.webp";
import AnimatedSection from "@/components/atoms/AnimatedSection.astro";

const imageTransitionClass =
  "h-full w-full transform rounded-lg object-cover transition-all duration-300 group-hover:-translate-y-1 group-hover:scale-105 hover:drop-shadow-xl";
---

<AnimatedSection direction="left" delay={0.1}>
  <h1 class="py-8 md:py-12">
    Optimisez la gestion des cours pour les écoles, associations et communautés
    éducatives.
  </h1>
</AnimatedSection>
<section
  class="flex h-full w-full flex-col items-center sm:justify-center sm:gap-8 xl:flex-row xl:justify-start xl:gap-0"
>
  <!-- Text Content - Réduit sur mobile, normal sur desktop -->
  <aside class="mb-4 px-4 xl:mb-0 xl:w-1/2">
    <AnimatedSection direction="left" delay={0.2}>
      <h2 class="mt-2 mb-4 md:mt-8 md:text-xl">
        Pensé pour les responsables d'écoles associatives, cours du soir et
        mosquées.
      </h2>
    </AnimatedSection>
    <AnimatedSection direction="left" delay={0.3}>
      <p>
        <strong>Suivi des élèves</strong>, <strong>plannings</strong>, <strong
          >absences</strong
        > et <strong>communication</strong> réunis au même endroit.
      </p>
    </AnimatedSection>
    <AnimatedSection direction="left" delay={0.5}>
      <div class="flex flex-col gap-2 sm:flex-row sm:gap-3">
        <a
          href="#demo"
          class="btn-primary"
          aria-label="Demander une démonstration"
        >
          Demander une démo gratuite
        </a>

        <!-- <a
          href="#features"
          class="btn-secondary"
          aria-label="Découvrir les fonctionnalités"
        >
          Découvrir les fonctionnalités
        </a> -->
      </div>
      <p>Sans engagement – 7 jours gratuits</p>
    </AnimatedSection>
  </aside>

  <!-- Images - Réduit sur mobile -->
  <aside class="relative w-full lg:w-1/2 lg:pl-8">
    <AnimatedSection direction="right" delay={0.4}>
      <div class="relative w-full">
        <!-- Image laptop - taille adaptive -->
        <div
          class="relative aspect-[8/5] max-h-[40vh] w-full sm:max-h-[50vh] md:max-h-[60vh] lg:max-h-[80vh]"
        >
          <Image
            src={desktopImage}
            alt="Tableau de bord administratif EduXcoM sur ordinateur portable"
            widths={[400, 800, 1200]}
            sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 800px"
            quality={85}
            format="webp"
            loading="eager"
            decoding="async"
            fetchpriority="high"
          />
        </div>

        <!-- Image smartphone -->
        <div
          class="absolute -right-2 -bottom-4 w-[20%] md:-right-4 md:-bottom-12 md:w-[25%] lg:max-w-[150px]"
        >
          <Image
            src={mobileImage}
            alt="Interface mobile EduXcoM pour la gestion scolaire"
            widths={[150, 300]}
            sizes="(max-width: 768px) 25vw, 150px"
            quality={85}
            format="webp"
            loading="eager"
            class={imageTransitionClass}
          />
        </div>
      </div>
    </AnimatedSection>
  </aside>
</section>
