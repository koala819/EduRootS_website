---
import { Image } from 'astro:assets';

import GreenCheck from './GreenCheck.astro';
import FeatureAnimation from './FeatureAnimation.jsx';
import ImageAnimation from './ImageAnimation.jsx';

import interfaceEnseignantDesktop from '../assets/eduxcom-tableau-bord-enseignant-desktop.webp';
import interfaceEnseignantDesktopUrl from '../assets/eduxcom-tableau-bord-enseignant-desktop.webp?url';
import interfaceParentsMobile from '../assets/eduxcom-tableau-bord-famille-mobile.webp';
import interfaceParentsMobileUrl from '../assets/eduxcom-tableau-bord-famille-mobile.webp?url';
import interfaceAdminTablet from '../assets/eduxcom-tableau-bord-administratif-tablet.webp';
import interfaceAdminTabletUrl from '../assets/eduxcom-tableau-bord-administratif-tablet.webp?url';
import Badge from './Badge.astro';

import { getImage } from 'astro:assets';

// Générer une version plus petite et optimisée
const optimizedEnseignantDesktop = await getImage({
  src: interfaceEnseignantDesktop,
  width: 500,
  format: 'webp',
  quality: 80,
});
---

<section id="features" class="py-16">
  <!-- Article 1: Interface Enseignants (Vue Desktop) -->
  <article
    class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-stretch min-h-[600px] py-20"
  >
    <aside class="order-2 md:order-1 flex flex-col justify-center">
      <FeatureAnimation direction="left" client:visible>
        <Badge title="Interface enseignants" />
        <h2 class="text-2xl md:text-3xl font-bold mb-4">Plateforme numérique pour professeurs</h2>
        <p class="text-dark-light dark:text-dark-lighter text-lg mb-6">
          Une solution complète permettant aux enseignants d'optimiser leur temps et d'améliorer le
          suivi pédagogique des élèves au quotidien.
        </p>
        <ul class="space-y-3">
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Gestion des <strong>cahiers de notes</strong> et calculs automatiques des moyennes pondérées
              pour chaque élève
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Planification des <strong>devoirs et évaluations</strong> avec rappels automatiques
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              <strong>Suivi des absences</strong> et gestion des retards avec alertes immédiates aux
              parents et à l'administration
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Messagerie sécurisée pour une <strong>communication fluide</strong> avec les familles et
              l'équipe pédagogique
            </span>
          </li>
        </ul>
      </FeatureAnimation>
    </aside>

    <aside class="order-1 md:order-2 flex items-center justify-center">
      <ImageAnimation client:visible>
        <a
          href={interfaceEnseignantDesktopUrl}
          class="block overflow-hidden"
          target="_blank"
          aria-label="Voir l'image en taille réelle"
        >
          <img
            src={optimizedEnseignantDesktop.src}
            alt="Interface du logiciel EduXcoM pour la gestion des cours et évaluations par les enseignants"
            class="w-full h-auto rounded-lg hover:cursor-zoom-in"
          />
        </a>
      </ImageAnimation>
    </aside>
  </article>

  <!-- Article 2: Outil Communication Parents -->
  <article
    class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-stretch min-h-[600px] py-20 bg-slate-50 dark:bg-slate-900/30 rounded-3xl"
  >
    <aside class="order-1 flex justify-center items-center">
      <ImageAnimation client:visible>
        <div class="relative w-64 h-[550px] overflow-hidden">
          <a
            href={interfaceParentsMobileUrl}
            class="block overflow-hidden rounded-2xl"
            target="_blank"
            aria-label="Voir l'image en taille réelle"
          >
            <Image
              src={interfaceParentsMobile}
              alt="Application mobile EduXcoM pour le suivi scolaire par les parents"
              width={200}
              height={230}
              class="w-full h-full object-cover hover:cursor-zoom-in"
            />
          </a>
        </div>
      </ImageAnimation>
    </aside>

    <aside class="order-2 flex flex-col justify-center">
      <FeatureAnimation direction="right" client:visible>
        <Badge title="Application mobile parents" />
        <h2 class="text-2xl md:text-3xl font-bold mb-4">Suivi scolaire pour les familles</h2>
        <p class="text-dark-light dark:text-dark-lighter text-lg mb-6">
          Notre plateforme renforce le lien école-famille grâce à un accès instantané aux
          informations scolaires de vos enfants, où que vous soyez.
        </p>
        <ul class="space-y-3">
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Consultez les <strong>notes et évaluations</strong> de votre enfant dès leur publication
              par les enseignants
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Suivez les <strong>devoirs et examens</strong> pour aider votre enfant à s'organiser
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Recevez des <strong>notifications en temps réel</strong> concernant les absences, retards
              ou informations importantes
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Communiquez directement avec les <strong>enseignants et l'administration</strong> via notre
              messagerie intégrée
            </span>
          </li>
        </ul>
      </FeatureAnimation>
    </aside>
  </article>

  <!-- Article 3: Système d'Information Scolaire -->
  <article
    class="container mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-stretch min-h-[600px] py-20"
  >
    <aside class="order-2 md:order-1 flex flex-col justify-center">
      <FeatureAnimation direction="left" client:visible>
        <Badge title=" Administration scolaire" />

        <h2 class="text-2xl md:text-3xl font-bold mb-4">Gestion complète d'établissement</h2>
        <p class="text-dark-light dark:text-dark-lighter text-lg mb-6">
          Notre système d'information centralise toutes les données administratives et pédagogiques
          pour une gestion optimisée de votre établissement scolaire.
        </p>
        <ul class="space-y-3">
          <li class="flex items-start">
            <GreenCheck />
            <span>
              <strong>Tableaux de bord analytiques</strong> pour suivre les indicateurs de performance
              de l'établissement
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Gestion des <strong>emplois du temps</strong> et attribution des salles avec détection
              automatique des conflits
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              <strong>Suivi financier</strong> et gestion des ressources humaines intégrés
            </span>
          </li>
          <li class="flex items-start">
            <GreenCheck />
            <span>
              Rapports statistiques et <strong>exports de données</strong> personnalisables pour les
              besoins administratifs
            </span>
          </li>
        </ul>
      </FeatureAnimation>
    </aside>

    <aside class="order-1 md:order-2 flex items-center justify-center">
      <ImageAnimation client:visible>
        <div class="relative overflow-hidden">
          <a
            href={interfaceAdminTabletUrl}
            class="block overflow-hidden rounded-lg"
            target="_blank"
            aria-label="Voir l'image en taille réelle"
          >
            <Image
              src={interfaceAdminTablet}
              alt="Tableau de bord administratif du logiciel de gestion scolaire EduXcoM"
              width={480}
              height={320}
              class="w-full h-auto object-cover hover:cursor-zoom-in"
            />
          </a>
        </div>
      </ImageAnimation>
    </aside>
  </article>
</section>
