---
import { Image } from 'astro:assets';
import eduxcomTableauBordAdministratifDesktop from '../assets/eduxcom-tableau-bord-administratif-desktop.webp';
import eduxcomTableauBordAdministratifDesktopUrl from '../assets/eduxcom-tableau-bord-administratif-desktop.webp?url';
import eduxcomTableauBordAdministratifMobile from '../assets/eduxcom-tableau-bord-administratif-mobile.webp';
import eduxcomTableauBordAdministratifMobileUrl from '../assets/eduxcom-tableau-bord-administratif-mobile.webp?url';
import FadeInSection from '../components/react/FadeInSection';
import ImageLightbox from '../components/react/ImageLightbox';

import Overlay from '@/components/Overlay.astro';
---

<section class="flex flex-col lg:flex-row lg:items-center pt-20 md:pt-24 lg:pt-28">
  <!-- Text Content with FadeIn animation -->
  <aside class="lg:w-1/2 mb-10 lg:mb-0">
    <FadeInSection client:visible direction="left" delay={0.1}>
      <h1
        class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight mb-4 text-dark dark:text-light"
      >
        Simplifiez la gestion de votre établissement scolaire
      </h1>
    </FadeInSection>

    <FadeInSection client:visible direction="left" delay={0.3}>
      <p class="text-lg md:text-xl text-dark-light dark:text-dark-lighter mb-8">
        EduXcoM est une <strong>plateforme éducative open source</strong> qui connecte enseignants, élèves
        et parents pour une <strong>gestion d'école en ligne</strong> fluide et efficace.
      </p>
    </FadeInSection>

    <FadeInSection client:visible direction="left" delay={0.5}>
      <div class="flex flex-col sm:flex-row gap-4">
        <a
          href="#demo"
          class="bg-primary dark:bg-primary-dark text-white dark:dark-button-text font-semibold py-3 px-6 rounded-lg cursor-pointer transition-all duration-300 hover:bg-primary-dark dark:hover:bg-primary hover:-translate-y-[2px] hover:shadow-md text-center"
        >
          Demander une démo
        </a>
        <a
          href="#features"
          class="bg-light-dark dark:bg-dark-light text-dark dark:text-dark font-semibold py-3 px-6 rounded-lg cursor-pointer transition-all duration-300 hover:bg-light-dark dark:hover:bg-dark-lighter hover:-translate-y-[2px] hover:shadow-md text-center"
        >
          Découvrir les fonctionnalités
        </a>
      </div>
    </FadeInSection>
  </aside>

  <!-- Images with FadeIn animation -->
  <aside class="lg:w-1/2 lg:pl-10 relative h-full flex items-center">
    <FadeInSection client:visible direction="right" delay={0.4}>
      <div class="relative w-full">
        <!-- Image laptop avec Lightbox -->
        <div class="group relative overflow-hidden rounded-lg">
          <ImageLightbox
            client:visible
            src={eduxcomTableauBordAdministratifDesktopUrl}
            alt="Tableau de bord administratif EduXcoM sur ordinateur portable"
          >
            <Image
              src={eduxcomTableauBordAdministratifDesktop}
              alt="Tableau de bord administratif EduXcoM sur ordinateur portable"
              width={800}
              height={500}
              quality={90}
              format="webp"
              loading="eager"
              class="w-full h-auto rounded-lg hover:drop-shadow-xl transition-all duration-300 transform group-hover:scale-105 group-hover:-translate-y-1"
            />

            <!-- Overlay qui apparaît au survol -->
           <Overlay title='Agrandir' />
          </ImageLightbox>
        </div>

        <!-- Image smartphone avec Lightbox -->
        <div class="absolute right-[-19px] bottom-[-150px] group">
          <ImageLightbox
            client:visible
            src={eduxcomTableauBordAdministratifMobileUrl}
            alt="Interface mobile EduXcoM pour la gestion scolaire"
          >
            <Image
              src={eduxcomTableauBordAdministratifMobile}
              alt="Interface mobile EduXcoM pour la gestion scolaire"
              width={150}
              height={200}
              quality={90}
              format="webp"
              loading="eager"
              class="rounded-lg hover:drop-shadow-xl transition-all duration-300 transform group-hover:scale-105 group-hover:-translate-y-1"
            />

            <!-- Overlay qui apparaît au survol (version plus petite pour smartphone) -->
            <Overlay title='Agrandir' />
          </ImageLightbox>
        </div>
      </div>
    </FadeInSection>
  </aside>
</section>