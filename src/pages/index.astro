---
import Hero from "@/components/molecules/Hero.astro";
import FeaturesOverview from "@/components/organisms/FeaturesOverview.astro";
// import Solutions from "@/components/molecules/Solutions.astro";
import MainLayout from "@/layouts/MainLayout.astro";
import FeatureTeacher from "@/components/atoms/FeatureTeacher.astro";
import FeatureParent from "@/components/atoms/FeatureParent.astro";
import FeatureAdmin from "@/components/atoms/FeatureAdmin.astro";
import Testimonials from "@/components/atoms/Testimonials.astro";
import CTA from "@/components/atoms/CTA.astro";
import FAQ from "@/components/organisms/FAQ.astro";
import lightInHands from "@/assets/pictures/lumiere-mains.webp";
import seaStudent from "@/assets/pictures/etudiant-reussite.webp";
import Pricing from "@/components/molecules/Pricing.astro";

const pageTitle =
  "Accueil | EduXcoM - Plateforme de gestion scolaire open source";
---

<MainLayout title={pageTitle}>
  <!-- <div class="content-wrapper"> -->
  <section id="home" class="my-16">
    <div class="container mx-auto px-4">
      <Hero />
    </div>
  </section>

  <section id="features" class="container mx-auto px-4">
    <FeaturesOverview />
  </section>

  <section class="container mx-auto px-4">
    <FeatureTeacher />
  </section>

  <section class="container mx-auto px-4">
    <FeatureParent />
  </section>

  <section class="container mx-auto px-4">
    <FeatureAdmin />
  </section>
  <!-- </div> -->

  <section>
    <CTA
      title="Réussissez votre transition numérique"
      appel="Notre équipe d'experts vous accompagne pas à pas dans la mise en place d'EduXcoM et la formation de votre personnel."
      btn="Découvrir notre accompagnement"
      imageUrl={seaStudent}
      alt="Etudiant réussit et saute devant la mer"
    />
  </section>
</MainLayout>

<section id="pricing">
  <Pricing />
</section>

<!-- <section id="solutions" class="container mx-auto px-4">
  <Solutions />
</section> -->

<section id="testimonials" class="container mx-auto px-4">
  <Testimonials />
</section>

<section class="container mx-auto px-4">
  <CTA
    title="Prêt à transformer votre établissement ?"
    appel="Réservez une démonstration gratuite avec l'un de nos experts et découvrez comment EduXcoM vous fait gagner du temps."
    btn="Demander une démo personnalisée"
    imageUrl={lightInHands}
    alt="mains tenant des lumières"
  />
</section>

<section id="faq" class="container mx-auto px-4">
  <FAQ />
</section>

<style>
  .content-wrapper {
    width: 100%;
    scroll-behavior: smooth;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Défilement fluide pour les liens d'ancrage
    const prefersReducedMotion = window.matchMedia(
      "(prefers-reduced-motion: reduce)"
    ).matches;
    const anchorLinks = document.querySelectorAll('a[href^="#"]');

    anchorLinks.forEach(link => {
      link.addEventListener("click", e => {
        const href =
          link instanceof HTMLAnchorElement ? link.getAttribute("href") : null;
        if (href && href !== "#") {
          e.preventDefault();
          const targetElement = document.querySelector(href);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: prefersReducedMotion ? "auto" : "smooth",
            });
          }
        }
      });
    });
  });
</script>
