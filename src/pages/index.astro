---
import Hero from "@/components/molecules/Hero.astro";
import BeforeAfterComparison from "@/components/atoms/BeforeAfterComparison.astro";
import Layout from "@/layouts/Layout.astro";
import FeatureTeacher from "@/components/atoms/FeatureTeacher.astro";
import FeatureFamily from "@/components/atoms/FeatureFamily.astro";
import FeatureAdmin from "@/components/atoms/FeatureAdmin.astro";
import Testimonials from "@/components/atoms/Testimonials.astro";
import CTA from "@/components/atoms/CTA.astro";
import FAQ from "@/components/organisms/FAQ.astro";
import muslimgirls from "@/assets/pictures/muslim-child-girls.webp";
import muslimwoman from "@/assets/pictures/muslim-woman-back.webp";
import muslimboy from "@/assets/pictures/muslim-child-boy.webp";
import Pricing from "@/components/molecules/Pricing.astro";
import Demo from "@/components/atoms/ContactForm.astro";
import FounderStory from "@/components/atoms/FounderStory.astro";

const pageTitle =
  "Accueil | EduXcoM - Plateforme de gestion scolaire open source";
---

<Layout title={pageTitle}>
  <section id="home" class="my-16">
    <div class="container mx-auto px-4">
      <Hero />
    </div>
  </section>

  <FounderStory />

  <CTA
    title="Gérez votre école en toute simplicité"
    btn="Réserver un appel découverte (15min)"
    imageUrl={muslimboy}
    alt="Petit garçon musulman"
  />

  <section id="features" class="container mx-auto px-4">
    <BeforeAfterComparison />
  </section>

  <section class="container mx-auto px-4">
    <FeatureTeacher />
  </section>

  <section class="container mx-auto px-4">
    <FeatureFamily />
  </section>

  <section class="container mx-auto px-4">
    <FeatureAdmin />
  </section>

  <section>
    <CTA
      title="Plus de temps pour l’essentiel"
      btn="Réserver un appel découverte (15min)"
      imageUrl={muslimwoman}
      alt="Femme musulmane de dos"
    />
  </section>

  <section id="testimonials" class="container mx-auto px-4">
    <Testimonials />
  </section>

  <section id="pricing">
    <Pricing />
  </section>

  <!-- <section id="solutions" class="container mx-auto px-4">
  <Solutions />
</section> -->

  <CTA
    title="Un outil pensé pour votre quotidien"
    btn="Demander une démo gratuite"
    imageUrl={muslimgirls}
    alt="groupe filles musulmanes"
  />

  <section id="faq" class="container mx-auto px-4">
    <FAQ />
  </section>

  <section id="demo" class="container mx-auto px-4">
    <Demo />
  </section>
</Layout>

<style>
  .content-wrapper {
    width: 100%;
    scroll-behavior: smooth;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Défilement fluide pour les liens d'ancrage
    const prefersReducedMotion = window.matchMedia(
      "(prefers-reduced-motion: reduce)"
    ).matches;
    const anchorLinks = document.querySelectorAll('a[href^="#"]');

    anchorLinks.forEach(link => {
      link.addEventListener("click", e => {
        const href =
          link instanceof HTMLAnchorElement ? link.getAttribute("href") : null;
        if (href && href !== "#") {
          e.preventDefault();
          const targetElement = document.querySelector(href);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: prefersReducedMotion ? "auto" : "smooth",
            });
          }
        }
      });
    });
  });
</script>
